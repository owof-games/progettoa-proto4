{"inkVersion":21,"root":[["\n","\n","\n","\n","^@moveTo roomName:","ev",{"VAR?":"Room1"},"out","/ev","\n",{"->":"loop"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"loop":[["^@interact","\n","ev","str","ev",{"VAR?":"Room1"},{"f()":"interaction_exit"},"out","/ev","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","ev",{"VAR?":"RoomRed"},{"f()":"interaction_exit"},"out","/ev","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","ev",{"VAR?":"RoomGreen"},{"f()":"interaction_exit"},"out","/ev","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["\n","ev",{"VAR?":"Ettore"},{"VAR?":"Room1"},{"f()":"move_entity"},"pop","/ev","\n",{"->":"loop"},{"#f":5}],"c-1":["\n","ev",{"VAR?":"Ettore"},{"VAR?":"RoomRed"},{"f()":"move_entity"},"pop","/ev","\n",{"->":"loop"},{"#f":5}],"c-2":["\n","ev",{"VAR?":"Ettore"},{"VAR?":"RoomGreen"},{"f()":"move_entity"},"pop","/ev","\n",{"->":"loop"},"done",{"#f":5}]}],{"#f":1}],"entity_location":[{"temp=":"entity"},["ev",{"VAR?":"hand_contents"},{"VAR?":"entity"},"?","/ev",{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"Hand"},"/ev","~ret",{"->":".^.^.^.6"},null]}],["ev",{"VAR?":"room1_contents"},{"VAR?":"entity"},"?","/ev",{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"Room1"},"/ev","~ret",{"->":".^.^.^.6"},null]}],["ev",{"VAR?":"room_red_contents"},{"VAR?":"entity"},"?","/ev",{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"RoomRed"},"/ev","~ret",{"->":".^.^.^.6"},null]}],["ev",{"VAR?":"room_green_contents"},{"VAR?":"entity"},"?","/ev",{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"RoomGreen"},"/ev","~ret",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["\n","ev","str","^error, cannot find ","ev",{"VAR?":"entity"},"out","/ev","^ anywhere!","/str",{"x()":"throw_exception","exArgs":1},"pop","/ev","\n","ev",0,"/ev","~ret",{"->":".^.^.^.6"},null]}],"nop","\n",{"#f":1}],"move_entity":[{"temp=":"destination"},{"temp=":"entity"},"ev",{"VAR?":"entity"},{"f()":"entity_location"},"/ev",{"temp=":"current_location"},"\n","ev",{"VAR?":"current_location"},"/ev",["du","ev",{"VAR?":"Hand"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"hand_contents"},{"VAR?":"entity"},"-",{"VAR=":"hand_contents","re":true},"/ev",{"->":".^.^.^.16"},null]}],["du","ev",{"VAR?":"Room1"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"room1_contents"},{"VAR?":"entity"},"-",{"VAR=":"room1_contents","re":true},"/ev",{"->":".^.^.^.16"},null]}],["du","ev",{"VAR?":"RoomRed"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"room_red_contents"},{"VAR?":"entity"},"-",{"VAR=":"room_red_contents","re":true},"/ev",{"->":".^.^.^.16"},null]}],["du","ev",{"VAR?":"RoomGreen"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"room_green_contents"},{"VAR?":"entity"},"-",{"VAR=":"room_green_contents","re":true},"/ev",{"->":".^.^.^.16"},null]}],[{"->":".^.b"},{"b":["pop","\n","ev","str","^did not consider location ","ev",{"VAR?":"current_location"},"out","/ev","^ while trying to move ","ev",{"VAR?":"entity"},"out","/ev","^ out of it","/str",{"x()":"throw_exception","exArgs":1},"pop","/ev","\n",{"->":".^.^.^.16"},null]}],"nop","\n","ev",{"VAR?":"destination"},"/ev",["du","ev",{"VAR?":"Hand"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"hand_contents"},{"VAR?":"entity"},"+",{"VAR=":"hand_contents","re":true},"/ev",{"->":".^.^.^.26"},null]}],["du","ev",{"VAR?":"Room1"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"room1_contents"},{"VAR?":"entity"},"+",{"VAR=":"room1_contents","re":true},"/ev",{"->":".^.^.^.26"},null]}],["du","ev",{"VAR?":"RoomRed"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"room_red_contents"},{"VAR?":"entity"},"+",{"VAR=":"room_red_contents","re":true},"/ev",{"->":".^.^.^.26"},null]}],["du","ev",{"VAR?":"RoomGreen"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"room_green_contents"},{"VAR?":"entity"},"+",{"VAR=":"room_green_contents","re":true},"/ev",{"->":".^.^.^.26"},null]}],[{"->":".^.b"},{"b":["pop","\n","ev","str","^did not consider location ","ev",{"VAR?":"destination"},"out","/ev","^ while trying to move ","ev",{"VAR?":"entity"},"out","/ev","^ in it","/str",{"x()":"throw_exception","exArgs":1},"pop","/ev","\n",{"->":".^.^.^.26"},null]}],"nop","\n","ev",{"VAR?":"entity"},{"VAR?":"Ettore"},"==","/ev",[{"->":".^.b","c":true},{"b":["\n","^@moveTo roomName:","ev",{"VAR?":"destination"},"out","/ev","\n",{"->":".^.^.^.34"},null]}],"nop","\n",{"#f":1}],"areEntitiesTogetherIn":[{"temp=":"location"},{"temp=":"entity2"},{"temp=":"entity1"},"ev",{"VAR?":"entity1"},{"f()":"entity_location"},{"VAR?":"entity2"},{"f()":"entity_location"},"==",{"VAR?":"entity1"},{"f()":"entity_location"},{"VAR?":"location"},"==","&&","/ev","~ret","\n",{"#f":1}],"throw_exception":[{"temp=":"str"},"^EXCEPTION: ","ev",{"VAR?":"str"},"out","/ev","\n",{"#f":1}],"interaction_exit":[{"temp=":"room"},"ev","str","^exit:","ev",{"VAR?":"room"},"out","/ev","/str","/ev","~ret",{"#f":1}],"global decl":["ev",{"list":{},"origins":["Characters"]},{"VAR=":"Characters"},{"list":{},"origins":["Places"]},{"VAR=":"Places"},{"list":{}},{"VAR=":"hand_contents"},{"list":{"Characters.Ettore":6}},{"VAR=":"room1_contents"},{"list":{}},{"VAR=":"room_red_contents"},{"list":{}},{"VAR=":"room_green_contents"},"/ev","end",null],"#f":1}],"listDefs":{"Characters":{"Paola":1,"Elia":2,"Zeca":3,"Matteo":4,"Greta":5,"Ettore":6},"Places":{"Hand":1,"Room1":2,"RoomRed":3,"RoomGreen":4}}}